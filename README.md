# 人脸识别考勤系统

基于深度学习的智能人脸识别考勤管理系统

## 项目简介

本项目是一个完整的人脸识别考勤系统，运用深度学习和计算机视觉技术实现自动化考勤管理。系统分为三个核心模块：人脸识别模块基于MTCNN和FaceNet实现高精度人脸检测与特征提取，网站应用模块提供用户友好的Web界面进行注册和考勤操作，数据管理模块负责用户信息存储和考勤记录管理。最终实现从用户注册到实时考勤打卡的全自动化流程，为学校、企业等机构提供高效便捷的考勤解决方案。本项目源自利物浦大学计算机科学系的毕业设计项目。

### 主要功能

- **用户注册管理**：支持用户通过Web界面上传照片和基本信息进行注册
- **实时人脸识别**：基于摄像头的实时人脸检测和身份验证
- **考勤记录管理**：自动记录考勤时间和状态，支持查询和导出
- **智能特征匹配**：使用512维特征向量进行高精度身份识别
- **响应式界面**：支持桌面和移动设备访问的现代化Web界面
- **模型训练支持**：包含完整的模型训练流程和数据处理工具

## 技术架构

### 核心技术栈
- **后端框架**：Python Flask
- **前端技术**：HTML5, CSS3, JavaScript
- **深度学习**：PyTorch, FaceNet, MTCNN
- **数据库**：SQLite/MySQL
- **图像处理**：OpenCV, PIL
- **数据处理**：NumPy, Pandas

### 系统架构
```
前端界面 → Flask后端 → 人脸识别模块 → 数据库存储
    ↑         ↓           ↓            ↓
用户交互 ← 结果返回 ← 特征匹配 ← 记录管理
```

## 快速开始

### 环境要求
- Python 3.7+
- 至少4GB内存
- 摄像头设备
- 现代浏览器

### 安装步骤

1. **克隆项目**
```bash
git clone https://github.com/Wicky-XU/Face-Recognition-Attendance-System.git
cd Face-Recognition-Attendance-System
```

2. **创建虚拟环境**
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

3. **安装依赖**
```bash
pip install -r requirements.txt
```

4. **配置系统**
```bash
# 复制配置文件
cp config.py.example config.py
# 根据需要修改配置参数
```

5. **启动系统**
```bash
# 启动主程序
python src/main.py
```

6. **访问系统**
打开浏览器访问 `http://localhost:5000`

## 使用指南

### 用户注册
1. 访问注册页面
2. 填写姓名、学号、邮箱信息
3. 上传清晰的正面照片
4. 点击注册完成用户创建

### 考勤打卡
1. 进入考勤页面
2. 点击"开启摄像头"
3. 将面部对准摄像头
4. 点击"拍照考勤"完成打卡

### 记录查询
1. 访问记录页面查看考勤历史
2. 支持按时间、用户筛选
3. 可导出Excel格式的考勤报表

## 模型训练

系统包含完整的模型训练模块，支持自定义数据集训练：

### 训练步骤
2. **准备数据**：将训练图片放入 `training/dataset/` 目录
3. **数据预处理**：运行 `python training/scripts/preprocess.py`
4. **开始训练**：运行 `python training/scripts/train.py`
5. **模型测试**：使用 `test_feature.py` 和 `test_compare.py` 验证模型效果
6. **部署模型**：将训练好的模型复制到 `models/` 目录

### 训练配置
- **数据集**：基于LFW数据集进行训练
- **模型架构**：Inception ResNet v1
- **特征维度**：512维向量
- **训练轮数**：可配置10-50轮
- **优化器**：Adam优化器

## 项目结构说明

- **src/**: 主程序源代码模块
- **static/**: CSS和JavaScript静态资源
- **templates/**: HTML模板文件
- **training/**: 模型训练相关代码和数据
- **models/**: 生产环境使用的模型文件（被gitignore）
- **docs/**: 项目文档和演示材料

## 配置选项

主要配置参数位于 `config.py` 文件中：

```python
# 人脸识别配置
FACE_RECOGNITION_THRESHOLD = 1.2    # 识别阈值
IMAGE_SIZE = (160, 160)             # 图像尺寸
MODEL_PATH = "models/facenet_lfw.pth"  # 模型路径

# 数据库配置
DATABASE_PATH = "attendance.db"      # 数据库文件路径
DATABASE_TYPE = "sqlite"             # 数据库类型

# 网站配置
DEBUG = False                        # 调试模式
HOST = "0.0.0.0"                    # 监听地址
PORT = 5000                         # 监听端口
```

## 性能指标

### 识别性能
- **识别准确率**：>95%（理想光照条件）
- **处理速度**：2-5秒/次识别
- **支持并发**：最多10个用户同时使用
- **误识率**：<2%（经过阈值优化）

### 系统性能
- **启动时间**：5-10秒
- **内存占用**：200-500MB
- **存储需求**：每个用户约2KB存储空间
- **网络延迟**：<1秒响应时间

## 常见问题

**人脸识别失败**
确保光线充足，面部正对摄像头，避免强光直射。可适当调整识别阈值。

**系统启动**
检查Python版本和依赖包是否正确安装，确保摄像头权限已开启。

**如何添加新用户**
通过注册页面上传清晰的正面照片，系统会自动提取面部特征进行注册。

**数据库如何备份**
MySQL数据库使用mysqldump命令导出备份，或通过phpMyAdmin等工具进行数据导出。

## 系统限制

- 需要良好的光照条件进行人脸识别
- 建议用户数量不超过1000人（性能考虑）
- 需要现代浏览器支持（支持WebRTC）
- 摄像头分辨率建议720p以上

## 致谢

感谢利物浦大学（University of Liverpool）计算机科学系提供的学术支持和研究平台。特别感谢Lorenzo Gheri博士的专业建议和悉心指导。

同时感谢开源社区提供的优秀框架和工具，包括PyTorch深度学习框架、Flask Web框架、FaceNet人脸识别模型等，为本项目的实现提供了强大的技术支撑。

本项目源自2024-2025学年的本科毕业设计项目，旨在探索人工智能技术在实际业务场景中的应用价值。

---

**技术栈**: Python • Flask • PyTorch • FaceNet • OpenCV • MySQL

**应用场景**: 考勤管理 • 人脸识别 • 智能办公 • 教育管理

**项目目标**: 构建实用可靠的智能考勤解决方案
